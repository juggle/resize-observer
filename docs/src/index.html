<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Resize Observer Polyfill</title>
  <link href="//fonts.googleapis.com/css?family=Heebo:300,400" rel="stylesheet">
  <link rel="stylesheet" href="page.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/styles/github.min.css">
</head>

<body>
  <header>
    <h1>Resize Observer</h1>
    <div class="gh-buttons">
      <a class="github-button" href="https://github.com/juggle/resize-observer" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star juggle/resize-observer on GitHub">Star</a>
      <a class="github-button" href="https://github.com/sponsors/tremaynechrist" data-icon="octicon-heart" data-size="large" aria-label="Sponsor @juggle on GitHub">Sponsor</a>
    </div>
    <div class="subheading">
      <p>A highly performant and true to life polyfill for observing changes to element dimensions.</p>
      <p>If you find something is not quite right, please <a href="//github.com/juggle/resize-observer/issues/new">open
          an issue</a>.</p>
    </div>
    <div resize=""></div>
  </header>
  <main>
    <h2>Installation</h2>
    <p>Install the package from npm.</p>
    <pre>
    <code class="language-console">
npm i @juggle/resize-observer
    </code>
  </pre>
    <p>Once installed, you can import it like any other module.</p>
    <pre>
    <code class="language-javascript">
import { ResizeObserver } from '@juggle/resize-observer';
    </code>
  </pre>
    <h2>Usage</h2>
    <pre>
    <code class="language-javascript">
import { ResizeObserver } from '@juggle/resize-observer';

const ro = new ResizeObserver((entries, observer) => {
  for (const entry of entries) {
    const { width, height } = entry.contentRect; // legacy
    const { inlineSize, blockSize } = entry.contentBoxSize;
    console.log(entry.target, `${inlineSize} x ${blockSize}`);
  }
});

ro.observe(firstElement); // observe content-box (default)
ro.observe(secondElement, { box: 'border-box' });
ro.observe(canvasElement, { box: 'device-pixel-content-box' });
    </code>
  </pre>
    <h2>Pseudo Classes</h2>
    <p>The library supports user-actioned pseudo classes, like <code>:hover</code>, <code>:active</code>,
      <code>:focus</code></p>
    <div resize="" id="pseudo-example" class="interactive-example" tabindex="0">Hover, tap or focus me.</div>
    <h2>Animations*</h2>
    <p>The library will detect changes which occur during animations.</p>
    <div resize="" id="animation-example" class="interactive-example">Tap me.</div>
    <h2>Transitions*</h2>
    <p>The library will detect changes which occur during transition.</p>
    <div resize="" id="transition-example" class="interactive-example">Tap me.</div>
    <p> <strong>NB:</strong> Slow-starting transitions may not be noticed, unless, other interactions occur in the
      application. Any missed calculations will be noticed at the end of the transition. </p>
    <h2>Performance Test</h2>
    <p>This animates 200 elements and counts the changes. To start/stop the animation, tap the cell area.</p>
    <p>Updates: <span id="performance-count">0</span></p>
    <div id="performance-example"></div>
    <hr>
    <p><strong style="float:left;margin-left:-1em">*</strong>Once the animation, or, transition has finished, the
      observer will sleep and wait for the next interaction. This keeps CPU idle, reducing battery consumption on
      portable devices.</p>
  </main>
  <script src="page.js"></script>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
</body>

</html>